workflows:
  jarvis-mini-android:
    name: Jarvis Mini Android Build
    max_build_duration: 60

    environment:
      vars:
        # Correct JAVA_HOME path for macOS Codemagic machines
        JAVA_HOME: /Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home

    scripts:
      - name: Build Debug APK
        script: ./gradlew clean assembleDebug

    artifacts:
      - app/build/outputs/apk/debug/app-debug.apk
