workflows:
  jarvis-mini-android:
    name: Jarvis Mini Android Build
    max_build_duration: 60

    environment:
      vars:
        JAVA_HOME: /usr/lib/jvm/java-17-openjdk
      flutter: false
      android:
        # Specify SDK version
        sdk: 34
        build_tools: 34.0.0

    scripts:
      - name: Build Debug APK
        script: ./gradlew clean assembleDebug

    artifacts:
      - app/build/outputs/apk/debug/app-debug.apk

    publishing:
      email:
        recipients:
          - amirshamse8@gmail.com
        on_success: always
        on_failure: always
